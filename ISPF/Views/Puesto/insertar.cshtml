@model ISPF.Models.PuestoModelo
@{
    ViewBag.Title = "insertar";
}

<h2>Registrar Puesto</h2>

@using (Html.BeginForm())
{
    <div class="form-group">
        <label>Nombre</label>
        @Html.TextBoxFor(model => model.codigo, new { @class = "form-control" });
    </div>
    <div class="form-group">
        <label>Decripci&oacute;n</label>
        @Html.TextAreaFor(model => model.des, new { @class = "form-control" });
    </div>
    <div class="form-group">
        <label>Departamento</label>
        @Html.DropDownListFor(model => model.codDep, new SelectList(""), "--Seleccionar Departamento--", new { @class = "form-control" });
    </div>
    <button type="submit" class="btn btn-primary">Insertar</button>
}
<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script>
    $(document).ready(function () {
        $.get("/Puesto/buscarDepa", function (data) {
            $("#codDep").empty();
            $("#codDep").append("<option value='0'>--Selecionar Departamento--</option>");
            $.each(data, function (index, row) {
                $("#codDep").append("<option value=" + row.codigo + ">" + row.codigo + "</option>");
            });

        });
    });

</script>